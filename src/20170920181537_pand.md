---
tag: 前端 UED
---



# Panda UED 重构记录



花了2天半把 [Panda UED](https://ued.xiongmaojinku.com) 换成3.0的风格用 [dva 2](https://github.com/dvajs/dva/releases) 重写x3了一遍，能感知的变化就是升级到了react-router@4，详细日志可以看[这里](https://github.com/sorrycc/blog/issues/48)，清了一大堆之前写得不堪入目的地方，diss一个月前的自己是常态。首页依旧是信息流聚合，不过整理了下机器人分类更清晰了，包括 Trello, Coding, Redmine, BugTags 等碎片式项目信息，实现依然使用了**Hack** [BearyChat](https://bearychat.com/) 的方法（希望有生之年不要换 API 🤤 - [至今发现的接口](https://www.zybuluo.com/electricface/note/139048)）



UI仓库这次从UED剥离了出来，单独建了仓库，还是肿，下次可能直接写个脚本扔七牛了，仓库使用了魔改版的Sketch Measure , gulp , webhook 构筑，命令精简到让UED小朋友们也能使用的一键自动UI出图到部署。另一个比较大的变动是Sketch文件管理，彻底告别了经常大姨妈的git-lfs改成了🌵[kactus](https://github.com/kactus-io/kactus) 进行管理，有cli和客户端，简直要落泪惹，支持 diff, 增量 和共享组件和样式，终于不用改一个字就重新上传整个文件了。



> I. it brings the entire git flow to sketch: branches, pull requests, team collaboration (you can work on the same file and automatically merge the changes), etc. II. you can share pages across multiple sketch files. III. you can publish pages on the internet and import them in another project.



另一方面开始写3.0的React组件库 [PanD](https://coding.net/u/canisminor1990/p/panda-design/git) ，解决之前的组件库版本冗杂和文档不完善的问题。组件库彻底转用 💅 **styled-components** ，巧的是几天前终于出了webstorm支持插件，比起人力搬砖className，sc写起来真的愉悦很多👏



![](http://qn.canisminor.cc/2017-09-20-pand_1.png)

![](http://qn.canisminor.cc/2017-09-20-pand_2.png)

![](http://qn.canisminor.cc/2017-09-20-pand_3.png)

![](http://qn.canisminor.cc/2017-09-20-pand_4.png)

- **WebSite:** <http://ued.xiongmaojinku.com/>