{"tag":["rss","feed"],"filename":"20180316021652_rss","body":"\n\n\n![full](http://qn.canisminor.cc/2018-03-16-rss-1.png)\n\nåˆšç”¨`node-rss`æ–°å¢äº†åšå®¢ rss è®¢é˜…æœåŠ¡ï¼š[ğŸ”– è®¢é˜…åœ°å€](https://canisminor.cc/rss.xml) ï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹ node-rss çš„ä½¿ç”¨æ–¹å¼ã€‚\n\n## Install\n\n```bash\n$ yarn add rss --dev\n```\n\n## Usage\n\nå¼•å…¥ rss åŒ…å¹¶åˆ›å»ºä¸€ä¸ª feed å¯¹è±¡ï¼š\n\n```js\nimport RSS from 'rss';\n\nconst feed = new RSS({\n\ttitle         : 'CanisMinor',\n\tdescription   : 'æ¥è‡ª CanisMinor åšå®¢çš„è®¢é˜…ä¿¡æ¯ - CanisMinor RSS Feed',\n\tsite_url      : 'https://canisminor.cc',\n\tfeed_url      : 'https://canisminor.cc/rss.xml'\n\timage_url     : 'https://canisminor.cc/favicons/favicon-32x32.png',\n\tmanagingEditor: 'CanisMinor',\n\twebMaster     : 'CanisMinor',\n\tcopyright     : 'CanisMinor 2018 ç‰ˆæƒæ‰€æœ‰',\n\tlanguage      : 'zh-cn',\n\tcategories    : ['design', 'coding', 'ued', 'fe', 'ui/ux']\n});\n```\n\næ·»åŠ æ–‡ç« ï¼š\n\n```js\n_.forEach(Articles, item => {\n  feed.item({\n    title: item.title,\n    description: marked(item.body) + '...',\n    url: `https://${join(SITE, 'blog', item.filename)}?source=feed`,\n    author: 'CanisMinor',\n    categories: item.tag,\n    date: moment(item.filename.split(/_/g)[0], 'YYYYMMDDhhmmss').format(),\n  });\n});\n\nfs.writeFileSync(join(pathDist, 'rss.xml'), feed.xml());\n```\n\nnginx é…ç½®ï¼š\n\n```nginx\nlocation /rss.xml {\n\tdefault_type application/rss+xml;\n\tadd_header Content-Type 'text/xml; charset=UTF-8';\n\tadd_header Cache-Control \"no-cache, must-revalidate, post-check=0, pre-check=0\";\n\tadd_header Pragma \"no-cache\";\n\tadd_header Expires \"0\";\n\talias /root/canisminor-blog/dist/rss.xml;\n}\n```\n\n## Link\n\n* **node-rss: ** <https://github.com/dylang/node-rss>\n* **canisminor-rss: ** <https://canisminor.cc/rss.xml>\n","title":"ä½¿ç”¨ node-rss ç”Ÿæˆ feed è®¢é˜…"}