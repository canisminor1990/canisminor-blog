{"tag":["rss","feed"],"filename":"20180316021652_rss","body":"\n\n\n\n![full](http://qn.canisminor.cc/2018-03-16-rss.png)\n\n刚用`node-rss`新增了博客rss订阅服务：[🔖 订阅地址](https://canisminor.cc/rss.xml)  ，顺便总结一下node-rss的使用方式。\n\n## Install\n\n```bash\n$ yarn add rss --dev\n```\n\n## Usage\n\n引入rss包并创建一个feed对象：\n\n```js\nimport RSS from 'rss';\n\nconst feed = new RSS({\n\ttitle         : 'CanisMinor',\n\tdescription   : '来自 CanisMinor 博客的订阅信息 - CanisMinor RSS Feed',\n\tsite_url      : 'https://canisminor.cc',\n\tfeed_url      : 'https://canisminor.cc/rss.xml'\n\timage_url     : 'https://canisminor.cc/favicons/favicon-32x32.png',\n\tmanagingEditor: 'CanisMinor',\n\twebMaster     : 'CanisMinor',\n\tcopyright     : 'CanisMinor 2018 版权所有',\n\tlanguage      : 'zh-cn',\n\tcategories    : ['design', 'coding', 'ued', 'fe', 'ui/ux']\n});\n```\n\n添加文章：\n\n```js\n_.forEach(Articles, item => {\n\tfeed.item({\n\t\ttitle      : item.title,\n\t\tdescription: marked(item.body) + '...',\n\t\turl        : `https://${join(SITE, 'blog', item.filename)}?source=feed`,\n\t\tauthor     : 'CanisMinor',\n\t\tcategories : item.tag,\n\t\tdate       : moment(item.filename.split(/_/g)[0], 'YYYYMMDDhhmmss').format()\n\t});\n});\n\nfs.writeFileSync(join(pathDist, 'rss.xml'), feed.xml());\n```\n\nnginx配置：\n\n```nginx\nlocation /rss.xml {\n\tdefault_type application/rss+xml; \n\tadd_header Content-Type 'text/xml; charset=UTF-8';\n\tadd_header Cache-Control \"no-cache, must-revalidate, post-check=0, pre-check=0\";\n\tadd_header Pragma \"no-cache\";\n\tadd_header Expires \"0\";\n\talias /root/canisminor-blog/dist/rss.xml;\n}\n```\n\n## Link\n\n- **node-rss: ** <https://github.com/dylang/node-rss>\n- **canisminor-rss: ** <https://canisminor.cc/rss.xml>","title":"使用node-rss生成feed订阅"}