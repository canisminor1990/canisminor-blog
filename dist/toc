[{"filename":"20180308185546_sketchplugin","title":"Sketch 插件开发 - skpm & webview","tag":["sketch","plugin"],"body":"\n\n\n![full](http://qn.canisminor.cc/2018-03-08-085642.png)\n\n拿 Sketch 49 的新 [JS API](http://developer.sketchapp.com/reference/api/) 重构了一边 [SketchSelect](https://github.com/canisminor1990/sketch-select) 插件，感受：Sketch JS API 文档比之前清晰太多，还带了示例代码片段，官方终于想起有这么个文档了 🤭，但目前暴露的属性非常不全，只能说是阉割版，比如 TextLayer 的字体，ShapeLayer 的混合模式投影等，还有诸如导出，锁定，隐藏等状态都无法直接取到，还是得用其丑无比的 CocoaScript 方法。\n\n除了换 API，Webview 方面也重构了一遍，skpm 提供了使用 webpack 的[官方示例文件](https://github.com/skpm/with-webview/tree/master/template)，这边我因为使用 roadhog/dva 全家桶，所以魔改了一遍。\n\n## 安装\n\n* [skpm](https://github.com/skpm/skpm): 是 sketch 第三方开发工具集，提供调试/打包/发布等开发插件常用的功能。\n* @skpm/builder: skpm 开发包\n* [sketch-module-web-view](https://github.com/skpm/sketch-module-web-view): skpm 提供的 webview 包\n* [roadhog](https://github.com/sorrycc/roadhog) / [dva](https://github.com/dvajs/dva): 阿里 react/redux/webpack 全家桶\n* cross-env: 设置环境变量\n* concurrently: 进程多开\n\n```bash\n# 全局安装skpm包\n$ npm i -g skpm\n# 安装依赖\n$ yarn add @skpm/builder sketch-module-web-view dva\n$ yarn add roadhog cross-env concurrently --dev\n```\n\n### package配置\n\n- package.json","full":false},{"filename":"20180305104744_wxapp","title":"CanisMinor WxApp","tag":["wxapp","前端"],"body":"\n\n\n[![nozoom](https://img.shields.io/github/release/canisminor1990/canisminor-wxapp.svg)](https://github.com/canisminor1990/canisminor-wxapp)\n\n为了看看小程序文档的更新现状，花了几天把 blog 用 wxapp 复刻了一遍，脚手架方面虽然诞生了一些如[weact](https://github.com/haojy/weact)之类用`类React`方式编写小程序的项目，但都没有达到成熟可用的状态。最终使用 `webpack`, `dva`, `babel`进行开发，额外编写了一个[jsx2jsonLoader](https://github.com/canisminor1990/canisminor-wxapp/blob/master/lib/jsx2jsonLoader.js)用来生成 json 配置文件。\n\n**项目地址：** <https://github.com/canisminor1990/canisminor-wxapp>\n\n## Intro\n\n* 支持引用 `node_modules` 模块\n* 使用 `jsx` 编写小程序 `json` 配置文件\n* 使用 `scss` 编写 `.wxss` 文件\n* 长度单位使用 `postcss` 自动转为 `rem` 拒绝奇怪的 `rpx`\n* 支持通过配置 `alias` 来避免 `../../../` 之类的模块引用\n* 通过 `babel` 支持更丰富的 `ES6` 兼容，包括 `async/await`\n* 内置 `promise` 和 `lodash`（`lodash` 按需引入相应模块，不会全部引入）\n* 提供 `__DEV__` 和 `process.env.NODE_ENV` 全局常量辅助开发\n* 支持在 `production` 环境下压缩代码\n* 引入 `dva-core`，可在小程序环境下欢乐的使用 `redux`\n* 完整 `markdown` 解析方案\n* 所有外链自动转换为 `qrcode`\n\n## Preview\n\n![full](http://qn.canisminor.cc/2018-03-05-preview.png)\n\n## Dev","full":false},{"filename":"20180212181206_quanda","title":"Quanda ICO Brand Design","tag":["ICO","Branding","UI"],"body":"\n\n\n💰 近期接的一个 ICO 项目 BrandDesign\n\n🔐 [http://quanda.network/](http://quanda.network/)\n\n## Preview\n\n![full](http://qn.canisminor.cc/2018-02-12-quanda_1.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_2.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_3.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_4.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_5.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_6.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_7.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_8.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_9.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_10.png)\n![full](http://qn.canisminor.cc/2018-02-12-quanda_11.png)\n\n\n","full":false},{"filename":"20180103171810_bilibili","title":"Bilibili Mini-Clinet","tag":["Electron","React","Bilibili"],"body":"\n\n\n![full](http://qn.canisminor.cc/2018-01-03-preview-0.png)\n\n[![nozoom](https://img.shields.io/github/license/canisminor1990/bilibili-client.svg)](https://github.com/canisminor1990/bilibili-client/blob/master/LICENSE)\n[![nozoom](https://img.shields.io/github/release/canisminor1990/bilibili-client.svg)](https://github.com/canisminor1990/bilibili-client)\n[![nozoom](https://img.shields.io/github/downloads/canisminor1990/bilibili-client/total.svg)](https://github.com/canisminor1990/bilibili-client/releases)\n\n📺 可以摸鱼的 [Bilibili Mac/Win 客户端](https://github.com/canisminor1990/bilibili-client)\n\n## Features\n\n* ✅ Mini 窗口\n* ✅ 置顶功能\n* ✅ 无边框播放器\n* ✅ 分 P 支持\n* ✅ Mac/Win 客户端\n* ⬜️ 快捷键\n* ⬜️ ...\n\n## Preview\n\n![full](http://qn.canisminor.cc/2018-01-03-preview-1.png)\n![full](http://qn.canisminor.cc/2018-01-03-preview-2.png)\n![full](http://qn.canisminor.cc/2018-01-03-preview-3.png)\n\n## Download","full":false},{"filename":"20171219180435_panda3d","title":"Recent collection of 3DView-二发","tag":["C4D"],"body":"\n\n\n![full](http://qn.canisminor.cc/2017-12-19-panda3d.png)\n\n距离二发 3D 化试验已经过去 2 个月了，效果和反馈都还不错，这边整理了一些 2 转 3 的常见场景 🎄。\n\n\n","full":false},{"filename":"20171114165810_cmskin","title":"CanisMinor ACT Skin","tag":["React","FFXIV","ACT"],"body":"\n\n\n![full](http://qn.canisminor.cc/2017-11-14-1.png)\n\n[![nozoom](https://img.shields.io/github/tag/canisminor1990/ffxiv-cmskin.svg)](https://github.com/canisminor1990/ffxiv-cmskin)\n[![nozoom](https://img.shields.io/badge/Works%20with-ActWebsocket-green.svg)](https://github.com/ZCube/ACTWebSocket)\n[![nozoom](https://img.shields.io/badge/Works%20with-OverlayPlugin-green.svg)](https://github.com/hibiyasleep/OverlayPlugin)\n\n近日回坑 FF14，强迫症发作，没有在 github 上找到好用的 ACT 模板，就自己抽了点时间用 React 写了一个 💅。\n\n**CanisMinor ActSkin:** [🌱 Online](http://ffxiv.canisminor.cc)\n\n**README:** [📙English (EN)](https://github.com/canisminor1990/ffxiv-cmskin/blob/master/en_README.md)\n\n## OverView\n\n![full](http://qn.canisminor.cc/2017-11-14-2.png)\n![full](http://qn.canisminor.cc/2017-11-14-3.png)\n![full](http://qn.canisminor.cc/2017-11-14-4.png)\n![full](http://qn.canisminor.cc/2017-11-14-5.png)\n![full](http://qn.canisminor.cc/2017-12-06-12.png)\n![full](http://qn.canisminor.cc/2017-11-14-6.png)\n![full](http://qn.canisminor.cc/2017-11-16-13.png)\n![full](http://qn.canisminor.cc/2017-11-14-7.png)\n![full](http://qn.canisminor.cc/2017-11-14-8.png)\n![full](http://qn.canisminor.cc/2017-11-14-9.png)\n![full](http://qn.canisminor.cc/2017-11-14-10.png)\n\n<br />","full":false},{"filename":"20170925173318_webhook","title":"WebHook 图形化部署器","tag":["webhook","node","ejs"],"body":"\n\n\n因为有时候 webhook 会莫名其妙部署失败，也不知道哪里出了问题，只能 ssh 到服务器查看 log，所以写了一个带图形界面服务端 WebHook 部署器，可以直接在网页上查看部署命令和执行结果。[GitHub 地址](https://github.com/canisminor1990/webhook)\n\n> 支持: **Github / Coding**\n\n## Demo\n\n可以访问此网站查看 **[Demo](http://hook.canisminor.cc/)**\n\n![center](http://qn.canisminor.cc/2017-09-25-Group.png)\n\n## Usage\n\n**克隆项目：**\n\n```bash\n$ git clone git@github.com:canisminor1990/webhook.git\n```","full":false},{"filename":"20170924135700_http2","title":"升级 http/2 记录","tag":["nginx","http"],"body":"\n\n\n![shadow](http://qn.canisminor.cc/2017-09-24-031221.jpg)\n\n听说 http/2 已经蛮久了，刚好被 Chrome Audits 建议升级了，查看一下升级过程也不是很复杂，于是就对博客网站尝试了升级。\n\n> http/2 最大的特点是使用多路复用，对同一个域的服务器只建立一次 TCP 连接，加载多个资源，使用二进制帧传输，同时会对 http 头部进行压缩。使用 http2 会比 http/1.1 更加地高效。\n\n## 升级 openssl\n\n最低要求版本:\n\n* nginx@1.10.0\n* openssl@1.0.2\n\n```bash\n$ nginx -V\n> nginx version: nginx/1.10.2\n\n$ openssl version -a\n> OpenSSL 1.0.1e-fips 11 Feb 2013\n```","full":false},{"filename":"20170920181537_pand","title":"Panda UED 重构记录","tag":["前端","UED"],"body":"\n\n\n花了 2 天半把 [Panda UED](https://ued.xiongmaojinku.com) 换成 3.0 的风格用 [dva 2](https://github.com/dvajs/dva/releases) 重写 x3 了一遍，能感知的变化就是升级到了 react-router@4，详细日志可以看[这里](https://github.com/sorrycc/blog/issues/48)，清了一大堆之前写得不堪入目的地方，diss 一个月前的自己是常态。首页依旧是信息流聚合，不过整理了下机器人分类更清晰了，包括 Trello, Coding, Redmine, BugTags 等碎片式项目信息，实现依然使用了**Hack** [BearyChat](https://bearychat.com/) 的方法（希望有生之年不要换 API 🤤 - [至今发现的接口](https://www.zybuluo.com/electricface/note/139048)）\n\nUI 仓库这次从 UED 剥离了出来，单独建了仓库，还是肿，下次可能直接写个脚本扔七牛了，仓库使用了魔改版的 Sketch Measure , gulp , webhook 构筑，命令精简到让 UED 小朋友们也能使用的一键自动 UI 出图到部署。另一个比较大的变动是 Sketch 文件管理，彻底告别了经常大姨妈的 git-lfs 改成了 🌵[kactus](https://github.com/kactus-io/kactus) 进行管理，有 cli 和客户端，简直要落泪惹，支持 diff, 增量 和共享组件和样式，终于不用改一个字就重新上传整个文件了。\n\n> I. it brings the entire git flow to sketch: branches, pull requests, team collaboration (you can work on the same file and automatically merge the changes), etc. II. you can share pages across multiple sketch files. III. you can publish pages on the internet and import them in another project.\n\n另一方面开始写 3.0 的 React 组件库 [PanD](https://coding.net/u/canisminor1990/p/panda-design/git) ，解决之前的组件库版本冗杂和文档不完善的问题。组件库彻底转用 💅 **styled-components** ，巧的是几天前终于出了 webstorm 支持插件，比起人力搬砖 className，sc 写起来真的愉悦很多 👏\n\n![full](http://qn.canisminor.cc/2017-09-20-pand_1.png)![full](http://qn.canisminor.cc/2017-09-20-pand_2.png)\n\n![full](http://qn.canisminor.cc/2017-09-20-pand_3.png)\n\n![full](http://qn.canisminor.cc/2017-09-20-pand_4.png)\n\n* **WebSite:** <http://ued.xiongmaojinku.com/>\n","full":false},{"filename":"20170912183253_name-organizer","title":"Name Organizer","tag":["sketch","plugin"],"body":"\n\n\n![full](http://qn.canisminor.cc/2017-09-24-115346.jpg)\n\n[![nozoom](https://img.shields.io/github/release/canisminor1990/sketch-name-organizer.svg?maxAge=2592000)](https://github.com/canisminor1990/sketch-name-organizer/releases)\n[![nozoom](https://img.shields.io/badge/Works%20with-Sketch%20Runner-blue.svg?colorB=308ADF)](http://bit.ly/SketchRunnerWebsite)\n\n**Sort Artboards**\n\n按画板所在的 x,y 坐标给画板排序，并给画板加上顺序前缀\n\n**Sort Artboards Without Numbers**\n\n排序画板，但不加数字前缀\n\n**Rename Layers**\n\n美化图层名，并根据图层所应用的文字、图层样式，或所隶属的 symbol 重名图层（全局）","full":false},{"filename":"20170912183252_select","title":"Sketch Select","tag":["sketch","plugin"],"body":"\n\n\n![full](http://qn.canisminor.cc/2017-09-24-115021.jpg)\n\n[![nozoom](https://img.shields.io/github/release/canisminor1990/sketch-select.svg?maxAge=2592000)](https://github.com/canisminor1990/sketch-select/releases)\n[![nozoom](https://img.shields.io/badge/Works%20with-Sketch%20Runner-blue.svg?colorB=308ADF)](http://bit.ly/SketchRunnerWebsite)\n\n一键选择相同属性的图层\n\n## 使用说明\n\n### 在当前画板选择图层\n\n![](http://qn.canisminor.cc/2017-09-24-115050.jpg)\n\n选择一个图层并按下 <kbd>Command</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd> 将开打插件对话框\n\n![](http://qn.canisminor.cc/2017-09-24-115117.jpg)","full":false},{"filename":"20170912110709_roadhog","title":"Roadhog 踩坑记录","tag":["前端"],"body":"\n\n\n用 [roadhog](https://github.com/sorrycc/roadhog) 有一段时间了，其中才踩过大大小小许多坑，又因为其版本更新说明基本都碎片式地放在 releases 里或者偶尔出现在 issues 里 😐 ，所以决定开个坑记录一下。\n\n## Sass\n\n从 `1.0.0` 开始完整地支持了 sass ，需自行引入 sass-loader 和 node-sass 依赖，文档没有写的地方是 sass 的 webpack 配置可以直接写在 roadhogrc 里，sourceMap 和 includePaths 均可用：\n\n```js\nexport default {\n  sass: {\n    sourceMap: process.env.NODE_ENV === 'development',\n    includePaths: [\n      'node_modules',\n      'src/style'\n    ],\n  },\n  ...\n}\n```\n\n> 设置 `includePaths` 后使用 `@import` 时无需处理路径, 设置中路径下的文件可以直接引入，需要注意的是，加入当前目录中有同名的文件，那当前目录中的优先级将会比 includePaths 中的高。\n\n## Vendor\n\nVendor 可以解决 webpack 打包体积过大的问题，提取不变的第三方库单独打包引入，避免每次打包重复下载。要开启此功能首先创建 `src/vendor.js` 文件：\n\n","full":false},{"filename":"20170912100702_webstorm","title":"WebSotrm Tips","tag":["前端","IDE"],"body":"\n\n\n**配置文件**\n\n包含配色及 CodeStyle 等设置，可在启动页导入或者 `Files / Import Settings...`\n\n```bash\ncurl -O https://coding.net/u/canisminor1990/p/myConfig/git/raw/master/webStorm/settings.jar\n```\n\n**激活 node 支持**\n\n```white\nPreferences / Languages & Frameworks / Node.js and NPM -> Enable\n```\n\n**设置 JS 语法版本**\n\n```white\nPreferences / Languages & Frameworks / JavaScript / Javascript language version\n-> Flow\n-> Prefer Strict Mode\n```\n\n**智能提示忽略大小写**","full":false},{"filename":"20170901153211_ssr","title":"创建专属 SSR $2.50/500GB","tag":["科学上网","SSR"],"body":"\n\n\n![shadow](http://qn.canisminor.cc/2017-09-27-044239.jpg)\n\n## Step 1\n\n* 注册 vultr 账号: <https://www.vultr.com/>\n* 购买服务器：选择 Tokyo 日本机房\n* 选择系统：CentOS\n* $2.5 刀每月的机器需要抢，但 5$的说实话也不贵\n* **Deploy Now!! **\n\n## Step 2\n\n![shadow](http://qn.canisminor.cc/2017-09-27-045647.jpg)\n\n* 回到 <https://my.vultr.com/> 等待菊花结束\n* 进入服务器详情，查看服务器的`IP`,`Username`和`Password`\n* ssh 到服务器\n\n```bash\n$ ssh root@服务器IP\n```\n\n**首先安装: [BBR](https://www.91yun.org/archives/5174)**","full":false}]